{% with id=widget.attrs.id %}
    <div {% if id %} id="{{ id }}"{% endif %} class="btn-group btn-group-toggle {{ widget.attrs.class }}" data-toggle="buttons">
        {% for group, options, index in widget.optgroups %}
                {% for option in options %}
                    {% if option.value %}
                        <label class="btn btn-outline-primary{% if option.selected %} active{% endif %}">
                            <input type="radio" name="{{ widget.name }}" id="{{ id }}_{{ option.index }}" value="{{ option.value }}" autocomplete="off" {% if option.selected %}checked{% endif %}> {{ option.label }}
                        </label>
                    {% endif %}
                {% endfor %}
        {% endfor %}
    </div>
{% endwith %}
